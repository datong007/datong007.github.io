import{u as $,f as eE,g as BE,h as j,i as sE,P as tE,j as lE,k as aE,l as F,m as f,n as rE,w as _,p as B,q as oE,R as P,s as uE,v as iE,x as AE,C as nE,y as cE,z as pE,A as hE,B as vE,D as mE,E as dE,F as yE,G as I,H as O,I as ME,J as C,K as DE}from"./app-wZeQLTh1.js";const gE=["/","/posts/mission.html","/posts/%E8%81%94%E7%B3%BB%E6%88%91/%E6%AC%A2%E8%BF%8E%E7%99%BB%E8%88%B9.html","/posts/%E8%B5%84%E8%AE%AF/Fox%20International%20%E6%AC%A7%E6%B4%B2%E9%A1%B6%E5%B0%96%E9%92%93%E5%85%B7%E5%88%B6%E9%80%A0%E5%95%86%EF%BC%8C%E5%BC%95%E9%A2%86%E5%88%9B%E6%96%B0%E4%B8%8E%E5%93%81%E8%B4%A8%20%E2%80%94%E2%80%94%20%E4%BB%8E%E9%B2%A4%E9%B1%BC%E3%80%81%E7%AB%9E%E6%8A%80%E5%88%B0%E6%B7%A1%E6%B0%B4%E3%80%81%E6%8D%95%E9%A3%9F%E8%80%85%E5%8F%8A%E8%B7%AF%E4%BA%9A%E9%92%93%E9%B1%BC%E5%85%A8%E6%96%B9%E4%BD%8D%E5%93%81%E7%89%8C.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-500.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-700.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-705.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-705A%20B.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-705C%20D.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-707.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-707A%20B.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-709.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-7091A%20B.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-7091C%20D.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/MB-900.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/VS-500.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/VS-700.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/VS-705.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/VS-707.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1/VS-900.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-280.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-320.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X108.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X109.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X172.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X432.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X436.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X609.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X708.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-X808.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-ZD.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MB-ZWJ.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MBBT-100.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MBBT-104.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MBEH-45.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MBEH-60.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MBKZ-246.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MBXL-45.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%92%93%E7%AE%B1%E9%85%8D%E4%BB%B6/MBXL-60.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%A5%B5%E7%9B%92/MBA1.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%A5%B5%E7%9B%92/MBA2.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%A5%B5%E7%9B%92/MBA3.html","/posts/%E4%BA%A7%E5%93%81%E7%B1%BB%E5%9E%8B/%E9%A5%B5%E7%9B%92/MBA4.html","/404.html"],HE="SEARCH_PRO_QUERY_HISTORY",m=$(HE,[]),fE=()=>{const{queryHistoryCount:s}=C,t=s>0;return{enabled:t,queryHistory:m,addQueryHistory:l=>{t&&(m.value=Array.from(new Set([l,...m.value.slice(0,s-1)])))},removeQueryHistory:l=>{m.value=[...m.value.slice(0,l),...m.value.slice(l+1)]}}},L=s=>gE[s.id]+("anchor"in s?`#${s.anchor}`:""),CE="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:V}=C,d=$(CE,[]),RE=()=>{const s=V>0;return{enabled:s,resultHistory:d,addResultHistory:t=>{if(s){const l={link:L(t),display:t.display};"header"in t&&(l.header=t.header),d.value=[l,...d.value.slice(0,V-1)]}},removeResultHistory:t=>{d.value=[...d.value.slice(0,t),...d.value.slice(t+1)]}}},kE=s=>{const t=nE(),l=j(),R=cE(),r=F(0),D=f(()=>r.value>0),p=pE([]);return hE(()=>{const{search:h,terminate:k}=vE(),y=ME(i=>{const M=i.join(" "),{searchFilter:S=c=>c,splitWord:w,suggestionsFilter:X,...v}=t.value;M?(r.value+=1,h(i.join(" "),l.value,v).then(c=>S(c,M,l.value,R.value)).then(c=>{r.value-=1,p.value=c}).catch(c=>{console.warn(c),r.value-=1,r.value||(p.value=[])})):p.value=[]},C.searchDelay-C.suggestDelay);_([s,l],([i])=>y(i),{immediate:!0}),mE(()=>{k()})}),{isSearching:D,results:p}};var wE=eE({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(s,{emit:t}){const l=BE(),R=j(),r=sE(tE),{enabled:D,addQueryHistory:p,queryHistory:h,removeQueryHistory:k}=fE(),{enabled:y,resultHistory:i,addResultHistory:M,removeResultHistory:S}=RE(),w=D||y,X=lE(s,"queries"),{results:v,isSearching:c}=kE(X),a=aE({isQuery:!0,index:0}),A=F(0),n=F(0),b=f(()=>w&&(h.value.length>0||i.value.length>0)),Q=f(()=>v.value.length>0),x=f(()=>v.value[A.value]||null),U=()=>{const{isQuery:E,index:e}=a;e===0?(a.isQuery=!E,a.index=E?i.value.length-1:h.value.length-1):a.index=e-1},Y=()=>{const{isQuery:E,index:e}=a;e===(E?h.value.length-1:i.value.length-1)?(a.isQuery=!E,a.index=0):a.index=e+1},Z=()=>{A.value=A.value>0?A.value-1:v.value.length-1,n.value=x.value.contents.length-1},J=()=>{A.value=A.value<v.value.length-1?A.value+1:0,n.value=0},K=()=>{n.value<x.value.contents.length-1?n.value+=1:J()},z=()=>{n.value>0?n.value-=1:Z()},q=E=>E.map(e=>DE(e)?e:B(e[0],e[1])),G=E=>{if(E.type==="customField"){const e=dE[E.index]||"$content",[o,H=""]=yE(e)?e[R.value].split("$content"):e.split("$content");return E.display.map(u=>B("div",q([o,...u,H])))}return E.display.map(e=>B("div",q(e)))},g=()=>{A.value=0,n.value=0,t("updateQuery",""),t("close")},W=()=>D?B("ul",{class:"search-pro-result-list"},B("li",{class:"search-pro-result-list-item"},[B("div",{class:"search-pro-result-title"},r.value.queryHistory),h.value.map((E,e)=>B("div",{class:["search-pro-result-item",{active:a.isQuery&&a.index===e}],onClick:()=>{t("updateQuery",E)}},[B(I,{class:"search-pro-result-type"}),B("div",{class:"search-pro-result-content"},E),B("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:o=>{o.preventDefault(),o.stopPropagation(),k(e)}})]))])):null,N=()=>y?B("ul",{class:"search-pro-result-list"},B("li",{class:"search-pro-result-list-item"},[B("div",{class:"search-pro-result-title"},r.value.resultHistory),i.value.map((E,e)=>B(P,{to:E.link,class:["search-pro-result-item",{active:!a.isQuery&&a.index===e}],onClick:()=>{g()}},()=>[B(I,{class:"search-pro-result-type"}),B("div",{class:"search-pro-result-content"},[E.header?B("div",{class:"content-header"},E.header):null,B("div",E.display.map(o=>q(o)).flat())]),B("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:o=>{o.preventDefault(),o.stopPropagation(),S(e)}})]))])):null;return rE("keydown",E=>{if(s.isFocusing){if(Q.value){if(E.key==="ArrowUp")z();else if(E.key==="ArrowDown")K();else if(E.key==="Enter"){const e=x.value.contents[n.value];p(s.queries.join(" ")),M(e),l.push(L(e)),g()}}else if(y){if(E.key==="ArrowUp")U();else if(E.key==="ArrowDown")Y();else if(E.key==="Enter"){const{index:e}=a;a.isQuery?(t("updateQuery",h.value[e]),E.preventDefault()):(l.push(i.value[e].link),g())}}}}),_([A,n],()=>{var E;(E=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||E.scrollIntoView(!1)},{flush:"post"}),()=>B("div",{class:["search-pro-result-wrapper",{empty:s.queries.length?!Q.value:!b.value}],id:"search-pro-results"},s.queries.length?c.value?B(oE,{hint:r.value.searching}):Q.value?B("ul",{class:"search-pro-result-list"},v.value.map(({title:E,contents:e},o)=>{const H=A.value===o;return B("li",{class:["search-pro-result-list-item",{active:H}]},[B("div",{class:"search-pro-result-title"},E||r.value.defaultTitle),e.map((u,EE)=>{const T=H&&n.value===EE;return B(P,{to:L(u),class:["search-pro-result-item",{active:T,"aria-selected":T}],onClick:()=>{p(s.queries.join(" ")),M(u),g()}},()=>[u.type==="text"?null:B(u.type==="title"?uE:u.type==="heading"?iE:AE,{class:"search-pro-result-type"}),B("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?B("div",{class:"content-header"},u.header):null,B("div",G(u))])])})])})):r.value.emptyResult:w?b.value?[W(),N()]:r.value.emptyHistory:r.value.emptyResult)}});export{wE as default};
