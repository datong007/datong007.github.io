import{u as $,f as te,g as se,h as j,i as ie,P as le,t as ae,j as oe,k,l as q,m as ne,n as z,p as s,q as re,R as b,s as ue,v as pe,x as he,C as me,y as ce,z as ve,A as Ee,B as Be,D as de,E as ye,F as ge,G,H as O,I as fe,J as S,K as Ae}from"./app-DxJBMM7Z.js";const Ce=["/","/posts/3D%20software%20design.html","/posts/AI%20toolbox.html","/posts/Amount%20of%20test%20equipment.html","/posts/Carp%20Bait%20Companies.html","/posts/Cross-category%20cargo%20grouping%20service.html","/posts/Customized%20according%20to%20drawings.html","/posts/Flexible%20customization.html","/posts/Let's%20talk.html","/posts/Light%20customization.html","/posts/Private%20mold.html","/posts/Product%20appreciation.html","/posts/Product%20testing.html","/posts/Quality%20traceability.html","/posts/Sample%20customization.html","/posts/Testing%20of%20raw%20materials.html","/posts/Warranty%20capability.html","/posts/%E5%9B%BE%E7%89%87URL.html","/posts/%E8%A1%8C%E4%B8%9A%E8%B5%84%E8%AE%AF.html","/posts/gifs/%E5%85%A8%E7%90%83%E7%9F%A5%E5%90%8D%E6%B8%94%E5%85%B7%E5%93%81%E7%89%8C.html","/posts/gifs/%E5%AD%97%E6%AF%8D%E5%AF%BC%E8%88%AA.html","/posts/fishing%20equipment/ACCESSORY%20BOX/MB%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20CAGE/MDDD%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20CAGE/MDD%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20CAGE/MDEE%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20CAGE/MDE%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20CAGE/MDFF%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20CAGE/MDF%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20TRAY/MDJJ%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/BAIT%20TRAY/MDJ%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/CARP/MDAA%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/CARP/MDA%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/CARP/MDBB%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/CARP/MDB%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/CARP/MDCC%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/CARP/MDC%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/FISHHOOK/FISHHOOK.html","/posts/fishing%20equipment/METAL%20FITTINGS/MDI%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/PIN/PIN.html","/posts/fishing%20equipment/PLASTIC%20PARTS/MDH%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/SCALE%20LEAD/SCALE%20LEAD.html","/posts/fishing%20equipment/SCALE%20LEAD/SCALE%20LEADD.html","/posts/fishing%20equipment/SPACE%20BEANS/SPACE%20BEANS.html","/posts/fishing%20equipment/SWIVEL/SWIVEL.html","/posts/fishing%20equipment/WEIGHTS/MDGG%E7%B3%BB%E5%88%97.html","/posts/fishing%20equipment/WEIGHTS/MDG%E7%B3%BB%E5%88%97.html","/posts/Latest%20information/Best%20seller/6%E6%9C%88%E7%95%85%E9%94%80%E5%93%81.html","/posts/Latest%20information/Brand%20Dynamics/Flylords.html","/posts/Latest%20information/Brand%20Dynamics/Preston%20Innovations.html","/posts/Latest%20information/Brand%20Dynamics/simano.html","/posts/Latest%20information/Fishing%20gear%20exhibition/Show%20information.html","/posts/Latest%20information/fishing%20tournament/%E6%9C%AA%E5%91%BD%E5%90%8D%201.html","/posts/Latest%20information/fishing%20tournament/%E6%9C%AA%E5%91%BD%E5%90%8D.html","/posts/Latest%20information/fishing%20tournament/%E9%92%93%E9%B1%BC%E8%B5%9B%E4%BA%8B.html","/404.html"],De="SEARCH_PRO_QUERY_HISTORY",d=$(De,[]),qe=()=>{const{queryHistoryCount:i}=S,l=i>0;return{enabled:l,queryHistory:d,addQueryHistory:a=>{l&&(d.value=Array.from(new Set([a,...d.value.slice(0,i-1)])))},removeQueryHistory:a=>{d.value=[...d.value.slice(0,a),...d.value.slice(a+1)]}}},w=i=>Ce[i.id]+("anchor"in i?`#${i.anchor}`:""),Se="SEARCH_PRO_RESULT_HISTORY",{resultHistoryCount:Y}=S,y=$(Se,[]),Le=()=>{const i=Y>0;return{enabled:i,resultHistory:y,addResultHistory:l=>{if(i){const a={link:w(l),display:l.display};"header"in l&&(a.header=l.header),y.value=[a,...y.value.slice(0,Y-1)]}},removeResultHistory:l=>{y.value=[...y.value.slice(0,l),...y.value.slice(l+1)]}}},Re=i=>{const l=me(),a=j(),L=ce(),n=k(0),A=q(()=>n.value>0),v=ve([]);return Ee(()=>{const{search:E,terminate:R}=Be(),g=fe(p=>{const f=p.join(" "),{searchFilter:H=c=>c,splitWord:I,suggestionsFilter:F,...B}=l.value;f?(n.value+=1,E(p.join(" "),a.value,B).then(c=>H(c,f,a.value,L.value)).then(c=>{n.value-=1,v.value=c}).catch(c=>{console.warn(c),n.value-=1,n.value||(v.value=[])})):v.value=[]},S.searchDelay-S.suggestDelay);z([i,a],([p])=>g(p),{immediate:!0}),de(()=>{R()})}),{isSearching:A,results:v}};var Ie=te({name:"SearchResult",props:{queries:{type:Array,required:!0},isFocusing:Boolean},emits:["close","updateQuery"],setup(i,{emit:l}){const a=se(),L=j(),n=ie(le),{enabled:A,addQueryHistory:v,queryHistory:E,removeQueryHistory:R}=qe(),{enabled:g,resultHistory:p,addResultHistory:f,removeResultHistory:H}=Le(),I=A||g,F=ae(i,"queries"),{results:B,isSearching:c}=Re(F),o=oe({isQuery:!0,index:0}),h=k(0),m=k(0),x=q(()=>I&&(E.value.length>0||p.value.length>0)),T=q(()=>B.value.length>0),P=q(()=>B.value[h.value]||null),N=()=>{const{isQuery:e,index:t}=o;t===0?(o.isQuery=!e,o.index=e?p.value.length-1:E.value.length-1):o.index=t-1},U=()=>{const{isQuery:e,index:t}=o;t===(e?E.value.length-1:p.value.length-1)?(o.isQuery=!e,o.index=0):o.index=t+1},W=()=>{h.value=h.value>0?h.value-1:B.value.length-1,m.value=P.value.contents.length-1},_=()=>{h.value=h.value<B.value.length-1?h.value+1:0,m.value=0},J=()=>{m.value<P.value.contents.length-1?m.value+=1:_()},K=()=>{m.value>0?m.value-=1:W()},M=e=>e.map(t=>Ae(t)?t:s(t[0],t[1])),V=e=>{if(e.type==="customField"){const t=ye[e.index]||"$content",[r,D=""]=ge(t)?t[L.value].split("$content"):t.split("$content");return e.display.map(u=>s("div",M([r,...u,D])))}return e.display.map(t=>s("div",M(t)))},C=()=>{h.value=0,m.value=0,l("updateQuery",""),l("close")},X=()=>A?s("ul",{class:"search-pro-result-list"},s("li",{class:"search-pro-result-list-item"},[s("div",{class:"search-pro-result-title"},n.value.queryHistory),E.value.map((e,t)=>s("div",{class:["search-pro-result-item",{active:o.isQuery&&o.index===t}],onClick:()=>{l("updateQuery",e)}},[s(G,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},e),s("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:r=>{r.preventDefault(),r.stopPropagation(),R(t)}})]))])):null,Z=()=>g?s("ul",{class:"search-pro-result-list"},s("li",{class:"search-pro-result-list-item"},[s("div",{class:"search-pro-result-title"},n.value.resultHistory),p.value.map((e,t)=>s(b,{to:e.link,class:["search-pro-result-item",{active:!o.isQuery&&o.index===t}],onClick:()=>{C()}},()=>[s(G,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},[e.header?s("div",{class:"content-header"},e.header):null,s("div",e.display.map(r=>M(r)).flat())]),s("button",{class:"search-pro-remove-icon",innerHTML:O,onClick:r=>{r.preventDefault(),r.stopPropagation(),H(t)}})]))])):null;return ne("keydown",e=>{if(i.isFocusing){if(T.value){if(e.key==="ArrowUp")K();else if(e.key==="ArrowDown")J();else if(e.key==="Enter"){const t=P.value.contents[m.value];v(i.queries.join(" ")),f(t),a.push(w(t)),C()}}else if(g){if(e.key==="ArrowUp")N();else if(e.key==="ArrowDown")U();else if(e.key==="Enter"){const{index:t}=o;o.isQuery?(l("updateQuery",E.value[t]),e.preventDefault()):(a.push(p.value[t].link),C())}}}}),z([h,m],()=>{var e;(e=document.querySelector(".search-pro-result-list-item.active .search-pro-result-item.active"))==null||e.scrollIntoView(!1)},{flush:"post"}),()=>s("div",{class:["search-pro-result-wrapper",{empty:i.queries.length?!T.value:!x.value}],id:"search-pro-results"},i.queries.length?c.value?s(re,{hint:n.value.searching}):T.value?s("ul",{class:"search-pro-result-list"},B.value.map(({title:e,contents:t},r)=>{const D=h.value===r;return s("li",{class:["search-pro-result-list-item",{active:D}]},[s("div",{class:"search-pro-result-title"},e||n.value.defaultTitle),t.map((u,ee)=>{const Q=D&&m.value===ee;return s(b,{to:w(u),class:["search-pro-result-item",{active:Q,"aria-selected":Q}],onClick:()=>{v(i.queries.join(" ")),f(u),C()}},()=>[u.type==="text"?null:s(u.type==="title"?ue:u.type==="heading"?pe:he,{class:"search-pro-result-type"}),s("div",{class:"search-pro-result-content"},[u.type==="text"&&u.header?s("div",{class:"content-header"},u.header):null,s("div",V(u))])])})])})):n.value.emptyResult:I?x.value?[X(),Z()]:n.value.emptyHistory:n.value.emptyResult)}});export{Ie as default};
